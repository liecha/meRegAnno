2025-09-11 08:40:26,760 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:40:26.758466', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 253, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:40:48,787 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:40:48.786357', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 253, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:40:57,514 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:40:57.514009', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 253, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:42:39,758 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:42:39.757812', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 253, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:42:50,017 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:42:50.016703', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 253, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:42:51,028 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:42:51.026971', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 253, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:44:14,593 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:44:14.592906', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 255, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:44:19,283 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:44:19.282660', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 255, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:44:23,294 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:44:23.293818', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 255, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:44:40,617 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:44:40.617119', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 255, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:44:44,711 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:44:44.711022', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 255, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:44:56,936 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:44:56.935955', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 255, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:48:14,470 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:48:14.469783', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 257, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:48:20,087 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:48:20.086969', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 257, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 08:48:23,874 - scripts.error_handling - ERROR - Error in meal form initialization: {'timestamp': '2025-09-11T08:48:23.874241', 'error_type': 'TypeError', 'error_message': "FormMixin.form_submit_button() got an unexpected keyword argument 'key'", 'context': 'meal form initialization', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 257, in create_new_form_food\n    submit_button = create_submit_button_with_validation(\n        "Register Meal",\n    ...<2 lines>...\n        "Ready to register meal"\n    )\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/ui_components.py", line 111, in create_submit_button_with_validation\n    submit_clicked = st.form_submit_button(\n        button_text,\n        disabled=not is_valid,\n        key=button_key\n    )\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/metrics_util.py", line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\nTypeError: FormMixin.form_submit_button() got an unexpected keyword argument \'key\'\n'}
2025-09-11 12:44:47,566 - scripts.error_handling - ERROR - Error in meal registration page: {'timestamp': '2025-09-11T12:44:47.564528', 'error_type': 'AttributeError', 'error_message': 'st.session_state has no attribute "create_meal". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization', 'context': 'meal registration page', 'traceback': 'Traceback (most recent call last):\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/state/session_state.py", line 455, in __getitem__\n    return self._getitem(widget_id, key)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/state/session_state.py", line 500, in _getitem\n    raise KeyError\nKeyError\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/state/session_state_proxy.py", line 129, in __getattr__\n    return self[key]\n           ~~~~^^^^^\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/state/session_state_proxy.py", line 100, in __getitem__\n    return get_session_state()[key]\n           ~~~~~~~~~~~~~~~~~~~^^^^^\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/state/safe_session_state.py", line 94, in __getitem__\n    return self._state[key]\n           ~~~~~~~~~~~^^^^^\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/state/session_state.py", line 457, in __getitem__\n    raise KeyError(_missing_key_error_message(key))\nKeyError: \'st.session_state has no key "create_meal". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization\'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/meRegAnno_app.py", line 429, in create_page_meal_registration_with_copy\n    options = st.session_state.create_meal\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/anaconda3/envs/streamlit_env/lib/python3.13/site-packages/streamlit/runtime/state/session_state_proxy.py", line 131, in __getattr__\n    raise AttributeError(_missing_attr_error_message(key))\nAttributeError: st.session_state has no attribute "create_meal". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization\n'}
2025-09-11 12:49:13,195 - scripts.error_handling - ERROR - Error in meal registration page: {'timestamp': '2025-09-11T12:49:13.193871', 'error_type': 'NameError', 'error_message': "name 'recipie_list' is not defined", 'context': 'meal registration page', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/meRegAnno_app.py", line 385, in create_page_meal_registration_with_copy\n    recipie_list,\n    ^^^^^^^^^^^^\nNameError: name \'recipie_list\' is not defined\n'}
2025-09-12 07:34:54,232 - scripts.error_handling - ERROR - Error in summary page: {'timestamp': '2025-09-12T07:34:54.229991', 'error_type': 'NameError', 'error_message': "name 'create_improved_energy_balance_chart' is not defined", 'context': 'summary page', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/lumina_app.py", line 842, in create_page_summary\n    chart = create_improved_energy_balance_chart(filtered_df)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nNameError: name \'create_improved_energy_balance_chart\' is not defined. Did you mean: \'create_energy_balance_chart\'?\n'}
2025-09-12 15:30:22,218 - scripts.error_handling - ERROR - Error in meal registration page: {'timestamp': '2025-09-12T15:30:22.214924', 'error_type': 'ValueError', 'error_message': 'cannot convert float NaN to integer', 'context': 'meal registration page', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/lumina_app.py", line 445, in create_page_meal_registration_with_copy\n    code = code_detector(df_result_meal, df_food_nutrition, 1)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/nutritions.py", line 43, in code_detector\n    calories = int(calories + float(this_eatable[\'calorie\'].iloc[0] / portions) * (values_list[i] / 100))\nValueError: cannot convert float NaN to integer\n'}
2025-09-12 15:30:24,196 - scripts.error_handling - ERROR - Error in meal registration page: {'timestamp': '2025-09-12T15:30:24.195702', 'error_type': 'ValueError', 'error_message': 'cannot convert float NaN to integer', 'context': 'meal registration page', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/lumina_app.py", line 445, in create_page_meal_registration_with_copy\n    code = code_detector(df_result_meal, df_food_nutrition, 1)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/nutritions.py", line 43, in code_detector\n    calories = int(calories + float(this_eatable[\'calorie\'].iloc[0] / portions) * (values_list[i] / 100))\nValueError: cannot convert float NaN to integer\n'}
2025-09-12 15:30:26,557 - scripts.error_handling - ERROR - Error in meal registration page: {'timestamp': '2025-09-12T15:30:26.557260', 'error_type': 'ValueError', 'error_message': 'cannot convert float NaN to integer', 'context': 'meal registration page', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/lumina_app.py", line 445, in create_page_meal_registration_with_copy\n    code = code_detector(df_result_meal, df_food_nutrition, 1)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/nutritions.py", line 43, in code_detector\n    calories = int(calories + float(this_eatable[\'calorie\'].iloc[0] / portions) * (values_list[i] / 100))\nValueError: cannot convert float NaN to integer\n'}
2025-09-13 07:45:34,535 - scripts.error_handling - ERROR - Error in activity registration page: {'timestamp': '2025-09-13T07:45:34.533761', 'error_type': 'NameError', 'error_message': "name 'reset_key' is not defined", 'context': 'activity registration page', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/lumina_app.py", line 328, in create_page_activity_registration\n    create_new_form_activity(bmr)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/forms.py", line 46, in create_new_form_activity\n    with st.form(key=f"activity_form_{reset_key}", clear_on_submit=False):\n                                      ^^^^^^^^^\nNameError: name \'reset_key\' is not defined\n'}
2025-09-13 19:54:14,085 - scripts.error_handling - ERROR - Error in dashboard creation: {'timestamp': '2025-09-13T19:54:14.084527', 'error_type': 'NameError', 'error_message': "name 'bmr' is not defined", 'context': 'dashboard creation', 'traceback': 'Traceback (most recent call last):\n  File "/Users/liecha/Documents/GitHub/meRegAnno/scripts/error_handling.py", line 218, in wrapper\n    return func(*args, **kwargs)\n  File "/Users/liecha/Documents/GitHub/meRegAnno/lumina_app.py", line 252, in create_dashobard\n    sum_energy_output = calc_daily_energy_output(df_energy_date, bmr)\n                                                                 ^^^\nNameError: name \'bmr\' is not defined\n'}
